# 调试工具使用

## 1、抓RAW图

出现下面问题，需要点击左上角，加载参数文件；**每开一个界面都要加载一次；**

![img](D:\markdown\IMG\RAW图抓取)

## 2、SC2310寄存器

### 2.1帧长寄存器

ox320e = 0x0a;0x320f = 0x66;为什么仅有wdr模式有，linear模式没有？

计算出来的值高达2662，与手册给的相差甚远。

## 3、AEC

### 3.1手动曝光&自动曝光设置

默认初始化值是0，是什么曝光，AIQ起来之后，自动曝光是否需要设置该值，xml中设置为AUTO。

![image-20210503103400707](IMG\aecopty)

![image-20210503103624144](IMG\aeoptyauto)

### 3.2统计亮度

默认统计的是Y亮度，而faceAE计算的是RGB的亮度。

![image-20210503104652952](IMG\统计Y亮度)

### 3.3AECSYNC模块

![image-20210503105645546](IMG\syncaec)

曝光统计同步测试功能：

在标定ISP模块前，需要驱动人员填写调试IQ XML中的SensorInfo和system模块参数。配置完sensorinfo参数之后，开启AeSyncTest功能进行自测。

### 3.3.1增益转换公式是否为线性

IsLinear：增益转换公式是否为线性，= 0 非线性模式有效，线性模式有效；=1 线性模式有效，非线性模式无效

set to driver reg = （gain^M0）*C1 - C0+ 0.5

决定是线性转换还是非线性转换，取决于M0。

xml 参数对应：

第一列： gain 区间起始值，第二列 gain 区间结束值，第三列： C1，第四列： C0，

第五列： M0，第六列： gain 起始值对应 reg， 第七列： gain 结束值对应 reg

SC2310中只有短帧增益寄存器的宏定义，但初始化寄存器表中未有该寄存器对应的寄存器值？？

1、ISO100是1倍，ISO200是2倍，ISO400是8倍，是HISI的2倍关系；

2、曝光时间、曝光增益

曝光时间：TimeDot为0.02表示20ms